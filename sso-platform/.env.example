# =============================================================================
# SSO Platform - Environment Variables
# =============================================================================
# Copy to .env and fill in your values:
#   cp .env.example .env
# =============================================================================

# =============================================================================
# REQUIRED
# =============================================================================

# Database (Neon recommended)
DATABASE_URL=postgresql://user:password@ep-xxx.us-east-1.aws.neon.tech/dbname?sslmode=require

# Auth secret - generate: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-key-minimum-32-characters-long

# Auth server URLs
BETTER_AUTH_URL=http://localhost:3001
NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:3001

# CORS origins (comma-separated) - MUST include the SSO server itself!
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8000

# =============================================================================
# OPTIONAL - Branding
# =============================================================================

NEXT_PUBLIC_APP_NAME=Taskflow SSO
NEXT_PUBLIC_APP_DESCRIPTION=Secure Single Sign-On
NEXT_PUBLIC_ORG_NAME=Taskflow

# Where to redirect after login (dashboard URL)
NEXT_PUBLIC_CONTINUE_URL=http://localhost:3000

# =============================================================================
# OPTIONAL - Email (choose one)
# =============================================================================

# SMTP (Gmail example)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=your@gmail.com

# Or Resend
# RESEND_API_KEY=re_xxx
# RESEND_FROM_EMAIL=onboarding@resend.dev

# =============================================================================
# OPTIONAL - Redis (for distributed rate limiting)
# =============================================================================

# REDIS_URL=https://xxx.upstash.io
# REDIS_TOKEN=xxx

# =============================================================================
# OPTIONAL - Social Login Providers (008-social-login-providers)
# =============================================================================

# Google OAuth 2.0
# Get credentials: https://console.cloud.google.com/apis/credentials
# Authorized redirect URI: {BETTER_AUTH_URL}/api/auth/callback/google
# Example: http://localhost:3001/api/auth/callback/google
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-google-client-secret
# NEXT_PUBLIC_GOOGLE_ENABLED=true

# GitHub OAuth
# Get credentials: https://github.com/settings/developers
# Authorization callback URL: {BETTER_AUTH_URL}/api/auth/callback/github
# Example: http://localhost:3001/api/auth/callback/github
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret
# NEXT_PUBLIC_GITHUB_ENABLED=true

# RoboLearn SSO (Generic OIDC via genericOAuth plugin)
# Requires OIDC-compliant provider with discovery endpoint
# IMPORTANT: genericOAuth uses different callback path than built-in social providers!
# Authorization callback URL: {BETTER_AUTH_URL}/api/auth/oauth2/callback/robolearn
# Example: http://localhost:3001/api/auth/oauth2/callback/robolearn
# ROBOLEARN_CLIENT_ID=your-robolearn-client-id
# ROBOLEARN_CLIENT_SECRET=your-robolearn-client-secret
# ROBOLEARN_SSO_URL=https://sso.robolearn.example.com/api/auth  # Include /api/auth if discovery is at /api/auth/.well-known/openid-configuration
# NEXT_PUBLIC_ROBOLEARN_ENABLED=true

# =============================================================================
# Local Development
# =============================================================================
#
#   pnpm dev          # Start dev server on port 3001
#   pnpm db:push      # Push schema to database
#   pnpm seed:setup   # Seed OAuth clients
#
# =============================================================================
